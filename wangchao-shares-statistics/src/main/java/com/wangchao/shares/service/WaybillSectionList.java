package com.wangchao.shares.service;import java.io.Serializable;import java.util.ArrayList;import java.util.List;import com.wangchao.shares.util.BoundListRedisSupport;import com.wangchao.shares.vo.WaybillSectionVo;import org.apache.commons.lang.StringUtils;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.serializer.StringRedisSerializer;import com.alibaba.fastjson.JSON;import org.springframework.stereotype.Service;@Servicepublic class WaybillSectionList extends BoundListRedisSupport<String> {	private String preKey = "waybill_section_list";	private String billCodeType;	public WaybillSectionList() {			}		public WaybillSectionList(String billCodeType) {		super();		this.billCodeType = billCodeType;		this.key = preKey + "_" + this.billCodeType + ":List";	}		public WaybillSectionVo getWaybillSectionByIndex(long index) {		String sectionStr = super.index(index);		if (StringUtils.isNotBlank(sectionStr)) {			WaybillSectionVo waybillSection = JSON.parseObject(sectionStr, WaybillSectionVo.class);			return waybillSection;		}		return null;	}		public List<WaybillSectionVo> getWaybillSections() {		List<String> sectionStrs = super.range(0,-1);		if(sectionStrs != null && !sectionStrs.isEmpty()) {			List<WaybillSectionVo> sectionDtos = new ArrayList<WaybillSectionVo>();			for (String string : sectionStrs) {				WaybillSectionVo waybillSectionDto = JSON.parseObject(string, WaybillSectionVo.class);				sectionDtos.add(waybillSectionDto);			}			return sectionDtos;		}		return null;	}	public void setRedisTemplate(RedisTemplate<Serializable, String> redisTemplate) {		this.redisTemplate = redisTemplate;		this.redisTemplate.setValueSerializer(new StringRedisSerializer());		boundListOperations = this.redisTemplate.boundListOps(key); 	}	public String getBillCodeType() {		return billCodeType;	}	public void setBillCodeType(String billCodeType) {		this.billCodeType = billCodeType;	}     }